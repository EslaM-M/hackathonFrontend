define("authorization",[],function(){return(window.webpackJsonpauthorization=window.webpackJsonpauthorization||[]).push([[0],{139:function(e,t,a){e.exports={Login:"Login__Login__kkMYi",Container:"Login__Container__1elIl",Title:"Login__Title__1lXXQ",Form:"Login__Form__2EaYi",Error:"Login__Error__3-1hf"}},301:function(e,t){e.exports="data:image/png;base64,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"},307:function(e,t,a){e.exports={hideInputFile:"UploadButton__hideInputFile__2kywh"}},337:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),o=a.n(i),c=a(21);Boolean("swvl.local"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(92),u=(a(337),a(48)),s=a(34),d={loggedIn:!1,error:!1,loading:!1,authData:{},errorMessage:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(s.a)({},e,{loading:!0});case"LOGIN_SUCCESSFUL":return Object(s.a)({},e,{loading:!1,loggedIn:!0,authData:t.authData});case"LOGIN_FAILED":var a=t.error.data.message,n=a.charAt(0).toUpperCase()+a.replace(a.charAt(0),"");return Object(s.a)({},e,{loading:!1,error:!0,errorMessage:n});case"LOG_OUT":return d;default:return e}},p={data:[],totalCount:0,isLoaded:!1,page:0,pageSize:5},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_ROLES":return Object(s.a)({},e,{data:t.payload.data,totalCount:t.payload.totalCount,page:t.page,pageSize:t.pageSize,isLoaded:!0});case"RESET_STATE":return p;default:return e}},h={data:null,permissions:{data:[],totalCount:0,isLoaded:!1,page:0,pageSize:5},isLoaded:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_ROLE":return Object(s.a)({},e,{data:t.data,isLoaded:!0});case"STORE_ROLE_PERMISSIONS":return Object(s.a)({},e,{permissions:Object(s.a)({},e.permissions,{isLoaded:!0,data:t.payload.data,totalCount:t.payload.totalCount})});case"RESET_STATE":return h;default:return e}},b={data:[],isLoaded:!1,totalCount:0,page:0,hasMore:!0,pageSize:5},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_PERMISSIONS":return Object(s.a)({},e,{data:t.payload.data,totalCount:t.payload.totalCount,isLoaded:!0,page:t.page,pageSize:t.pageSize});case"STORE_UN_ASSIGNED_PERMISSIONS":var a=Object(s.a)({},e,{data:e.data.concat(t.payload.data),totalCount:t.payload.totalCount,isLoaded:!0,page:t.page,pageSize:t.pageSize});return a.data.length>=a.totalCount&&(a.hasMore=!1),a;case"RESET_STATE":return b;default:return e}},v=Object(u.c)({auth:m,roles:f,role:g,permissions:E}),O=a(183),S=function(){return Object(u.e)(v,Object(u.a)(O.a))},j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,C=function(){return Object(u.e)(v,j(Object(u.a)(O.a)))},R="staging"===window._env_.NODE_ENV?C():S(),y=a(184),L=a(185),A=a(207),I=a(186),k=a(208),x=a(299),w=a.n(x),X=a(49),U=a.n(X),N=(a(432),a(53),a(77)),T=function(){var e=localStorage.getItem("auth_data")&&JSON.parse(localStorage.getItem("auth_data"));return!(!e||!e.token)&&{isValid:U()(Date.now()).isSameOrBefore(U()(e.expires_at)),authData:e}},J=function(e){var t=e.match(/(\/\w+)+(\/:(\w|_)+)?((\/\w+)+)?$/gi);return t&&e===t[0]},V=function(e,t){if(e.resource&&!J(e.resource))return!1;var a=t.filter(function(e){return"never"!==e.editable}),n=!0,r=!1,i=void 0;try{for(var o,c=a[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;if(Object(N.isNil)(e[l.field])||Object(N.isEmpty)(e[l.field].trim()))return!1}}catch(u){r=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return!0},Z=Object(s.a)({},{sign_in:"sign_in"}),G=w.a.create({baseURL:window._env_.REACT_APP_API_URL});G.interceptors.request.use(function(e){if(e.url===Z.sign_in)return e;var t=T();if(t.isValid){var a=t.authData.token;return e.baseURL+="/gandalf",e.headers.Authorization="Bearer ".concat(a),e}R.dispatch(K())});var Q=G,W=function(e){return{type:"LOGIN_SUCCESSFUL",authData:e}},F=function(e,t){var a={email:e,password:t};return function(e){e({type:"LOGIN_START"}),Q.post(Z.sign_in,a).then(function(t){var a=t.data,n=a.token,r=a.role,i=a.owner,o=a.createdAt,c=a.expiry_date,l=a.refresh_token,u={role:r,token:n,is_expired:a.is_expired,userId:i,created_at:o,expires_at:c,refresh_token:l};localStorage.setItem("auth_data",JSON.stringify(u)),e(W(u))}).catch(function(t){e({type:"LOGIN_FAILED",error:t.response})})}},K=function(){return localStorage.clear(),{type:"LOG_OUT"}},D=function(e){return function(t,a){var n=a().roles;Q.post("/role",e).then(function(e){t(z(n.page,n.pageSize))})}},Y=function(e){return function(t,a){var n=a().roles;Q.delete("/role/".concat(e)).then(function(e){t(z(n.page,n.pageSize))})}},z=function(e,t){return function(a){Q.get("/role?page=".concat(e+1,"&limit=").concat(t)).then(function(n){a(function(e,t,a){return{type:"STORE_ROLES",payload:e,page:t,pageSize:a}}(n.data,e,t))})}},M=function(e){return function(t,a){var n=a().permissions;Q.post("/permission",e).then(function(e){t(B(n.page,n.pageSize))})}},P=function(e){return function(t,a){var n=a().permissions;Q.delete("/permission/".concat(e)).then(function(e){t(B(n.page,n.pageSize))})}},B=function(e,t){return function(a){Q.get("/permission?page=".concat(e+1,"&limit=").concat(t)).then(function(n){a(function(e,t,a){return{type:"STORE_PERMISSIONS",payload:e,page:t,pageSize:a}}(n.data,e,t))})}},q=function(e,t,a){return function(n,r){var i=r().permissions;Object(N.debounce)(function(){!0===i.hasMore&&Q.get("/role/".concat(a,"/unassigned_permissions?page=").concat(e,"&limit=").concat(t)).then(function(a){n(function(e,t,a){return{type:"STORE_UN_ASSIGNED_PERMISSIONS",payload:e,page:t,pageSize:a}}(a.data,e,t))})},1e3)()}},H=function(){return function(e){e({type:"RESET_STATE"})}},_=function(e){return function(t){Q.get("/role/".concat(e)).then(function(e){t({type:"STORE_ROLE",data:e.data})})}},$=function(e){return function(t,a){var n=a().role;Q.delete("/role_permission/".concat(e)).then(function(e){t(ee(n.permissions.page,n.permissions.pageSize,n.data.id))})}},ee=function(e,t,a){return function(n){a&&Q.get("/role/".concat(a,"/assigned_permissions?&page=").concat(e+1,"&limit=").concat(t)).then(function(a){n(function(e,t,a){return{type:"STORE_ROLE_PERMISSIONS",payload:e,page:t,pageSize:a}}(a.data,e,t))})}},te=function(e,t){return function(a){Q.post("/role_permission/bulk_create",{roleId:e,permissionIds:t}).then(function(t){ut.push("/roles/".concat(e))})}},ae=a(262),ne=a(264),re=a(265),ie=a(266),oe=a(301),ce=a.n(oe),le=a(139),ue=a.n(le),se=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:!1},a.handleUserNameChange=function(e){var t=e.target.value;a.setState({username:t})},a.handlePasswordChange=function(e){var t=e.target.value;a.setState({password:t})},a.login=function(e){e.preventDefault(),a.props.login(a.state.username,a.state.password)},a}return Object(k.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this,t=this.props.loading?r.a.createElement(ne.a,{style:{color:"#162729",width:"30px",height:"30px"}}):r.a.createElement(ae.a,{onClick:function(t){return e.login(t)},style:{width:"30%",backgroundColor:"#162729",color:"white"},type:"submit",variant:"contained"},"Login");return r.a.createElement(re.a,{className:ue.a.Login,component:"div",maxWidth:"xs"},r.a.createElement("div",{className:ue.a.Container},r.a.createElement("img",{style:{width:"100px",height:"40px",margin:"7%"},src:ce.a,alt:"swvl logo"}),r.a.createElement("span",{className:ue.a.Title},"Welcome, Login!"),r.a.createElement("form",{className:ue.a.Form},r.a.createElement(ie.a,{variant:"outlined",error:this.props.error,margin:"normal",required:!0,fullWidth:!0,name:"email",type:"email",onChange:function(t){return e.handleUserNameChange(t)},label:"Email Address",placeholder:"username@swvl.com"}),r.a.createElement(ie.a,{variant:"outlined",error:this.props.error,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"password",label:"Password",onChange:function(t){return e.handlePasswordChange(t)},placeholder:"A strong one ;)"}),this.props.error?r.a.createElement("span",{className:ue.a.Error},this.props.errorMsg):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"3%",textAlign:"center"}},t))))}}]),t}(n.Component),de=Object(c.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,errorMsg:e.auth.errorMessage}},function(e){return Object(u.b)({login:F},e)})(se),me=a(135),pe=a.n(me),fe=a(226),he=a(188),ge=a(233),be=[{title:"Name",field:"name"},{title:"Description",field:"description"},{title:"Action",field:"action",lookup:{post:"post",get:"get",delete:"delete",put:"put",patch:"patch"}},{title:"Resource",field:"resource",editComponent:function(e){var t=!0;return e.value&&(t=J(e.value)),r.a.createElement(fe.a,{error:!t},r.a.createElement(he.a,{placeholder:"Resource",id:"component-error",onChange:function(t){return e.onChange(t.target.value)},"aria-describedby":"component-error-text"}),!t&&r.a.createElement(ge.a,{id:"component-error-text"},"Please follow this pattern '/user/:id/test'"))}},{title:"Created At",field:"createdAt",editable:"never",render:function(e){if(e)return U()(e.createdAt).format("LLL")}},{title:"Updated At",field:"updatedAt",editable:"never",render:function(e){if(e)return U()(e.updatedAt).format("LLL")}}],Ee=a(58);var ve=function(e){var t=Object(n.useState)(null),a=Object(Ee.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),l=Object(Ee.a)(o,2),u=l[0],s=l[1],d=Object(n.useState)(null),m=Object(Ee.a)(d,2),p=m[0],f=m[1],h=Object(c.c)();return Object(n.useEffect)(function(){null!==r&&null!==u&&h(e(r,u,p))},[e,h,r,u,p]),function(e,t,a){i(e),s(t),f(a)}},Oe=a(307),Se=a.n(Oe),je=a(275),Ce=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{accept:".csv",className:Se.a.hideInputFile,id:"outlined-button-file",type:"file",onChange:e.onChange}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(je.a,null,"cloud_upload")))};var Re=[{title:"Name",field:"name"},{title:"Description",field:"description"},{title:"Created At",field:"createdAt",editable:"never",render:function(e){if(e)return U()(e.createdAt).format("LLL")}},{title:"Updated At",field:"updatedAt",editable:"never",render:function(e){if(e)return U()(e.updatedAt).format("LLL")}}];var ye=a(274),Le=a(308),Ae=a.n(Le),Ie=a(235),ke=a(202),xe=a.n(ke),we=a(309),Xe=a.n(we),Ue=a(268),Ne=a(269),Te=a(196),Je=a(279),Ve=function(e){return r.a.createElement(ye.a,{item:!0,xs:11},r.a.createElement(Ue.a,null,r.a.createElement(Ne.a,null,r.a.createElement(ye.a,{container:!0,alignItems:"center"},r.a.createElement(ye.a,{container:!0,alignItems:"center"},r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(Te.a,{variant:"h6"},"Role Details")),r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ye.a,{container:!0,justify:"flex-end"},e.isDisabled?r.a.createElement(Je.a,{key:"Edit",title:"Edit","aria-label":"Edit"},r.a.createElement(Ie.a,{"aria-label":"edit",onClick:function(){e.setIsDisabled(!e.isDisabled)}},r.a.createElement(Ae.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,{key:"Save",title:"Save","aria-label":"Save"},r.a.createElement(Ie.a,{"aria-label":"save"},r.a.createElement(xe.a,null))),r.a.createElement(Je.a,{key:"Cancel",title:"Cancel","aria-label":"Cancel"},r.a.createElement(Ie.a,{"aria-label":"cancel",color:"primary",onClick:function(){e.setIsDisabled(!e.isDisabled)}},r.a.createElement(Xe.a,null))))))),r.a.createElement(ye.a,{container:!0,justify:"center",alignItems:"center",spacing:3,style:{marginTop:"10px"}},r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ie.a,{disabled:e.isDisabled,id:"outlined-disabled",label:"Name",defaultValue:Object(N.get)(e.role,"name"),variant:"outlined"})),r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ie.a,{disabled:e.isDisabled,id:"outlined-disabled",label:"Updated At",defaultValue:U()(Object(N.get)(e.role,"updatedAt")).format("LLL"),variant:"outlined"})),r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ie.a,{disabled:e.isDisabled,id:"outlined-disabled",label:"Created At",defaultValue:U()(Object(N.get)(e.role,"createdAt")).format("LLL"),variant:"outlined"})),r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ie.a,{disabled:e.isDisabled,id:"outlined-disabled",label:"Description",defaultValue:Object(N.get)(e.role,"description"),variant:"outlined"})))))))},Ze=[{title:"Name",field:"name",editable:"never"},{title:"Description",field:"description",editable:"never"},{title:"Action",field:"action",editable:"never"},{title:"Resource",field:"resource"},{title:"Created At",field:"createdAt",editable:"never",render:function(e){if(e)return U()(e.createdAt).format("LLL")}},{title:"Updated At",field:"updatedAt",editable:"never",render:function(e){if(e)return U()(e.updatedAt).format("LLL")}}];var Ge=a(182),Qe=a(273),We=a(295);var Fe=function(e,t){var a=Object(n.useState)(20),r=Object(Ee.a)(a,1)[0],i=Object(c.c)();return function(a){console.log(a),i(e(a,r,t))}},Ke=a(310),De=a.n(Ke);var Ye=function(e){return e.children},ze=function(e){function t(){return Object(y.a)(this,t),Object(A.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(Ye,null,r.a.createElement(de,null))}}]),t}(n.Component),Me=a(205),Pe=[{name:"Roles",path:"/roles",page:function(e){var t=Object(c.c)(),a=Object(l.useSnackbar)().enqueueSnackbar,i=Object(n.useRef)(),o=ve(z),u=Object(c.d)(function(e){return e.roles});return Object(n.useEffect)(function(){i&&i.current&&i.current.onQueryChange()},[u]),r.a.createElement(pe.a,{tableRef:i,title:"Roles",columns:Re,options:{exportButton:!1,actionsColumnIndex:-1,addRowPosition:"first",search:!1},data:function(e){return new Promise(function(t,a){o(e.page,e.pageSize),t({data:u.data,page:e.page,totalCount:u.totalCount})})},onRowClick:function(t,a){e.history.push({pathname:"/roles/".concat(a.id)})},editable:{onRowAdd:function(e){return new Promise(function(n,r){V(e,Re)?(t(D(e)),n()):(a("There should not be any empty fields"),r())})},onRowDelete:function(e){return new Promise(function(a){t(Y(e.id)),a()})}}})},type:"main"},{name:"Permissions",path:"/permissions",page:function(e){var t=Object(c.c)(),a=Object(l.useSnackbar)().enqueueSnackbar,i=Object(n.useRef)(),o=ve(B),u=Object(c.d)(function(e){return e.permissions});return Object(n.useEffect)(function(){i&&i.current&&i.current.onQueryChange()},[u]),r.a.createElement(pe.a,{title:"Permissions",tableRef:i,columns:be,options:{exportButton:!1,actionsColumnIndex:-1,addRowPosition:"first",search:!1},data:function(e){return new Promise(function(t,a){o(e.page,e.pageSize),t({data:u.data,page:e.page,totalCount:u.totalCount})})},editable:{onRowDelete:function(e){return new Promise(function(a){t(P(e.id)),a()})},onRowAdd:function(e){return new Promise(function(n,r){V(e,be)?(t(M(e)),n()):(a("There should not be any empty fields"),r())})}},actions:[{icon:function(e){return r.a.createElement(Ce,{onChange:s})},onClick:function(){},isFreeAction:!0}]});function s(e){console.log(e.target.value)}},type:"main"},{name:"Role Details",path:"/roles/:id",page:function(e){var t=Object(c.d)(function(e){return e.role.data}),a=Object(c.d)(function(e){return e.role.permissions.data}),i=Object(c.d)(function(e){return e.role.permissions.totalCount}),o=Object(c.c)(),l=ve(ee),u=Object(n.useRef)(),s=Object(n.useState)(!0),d=Object(Ee.a)(s,2),m=d[0],p=d[1];return Object(n.useEffect)(function(){o(H())},[o]),Object(n.useEffect)(function(){u&&u.current&&u.current.onQueryChange()},[a]),Object(n.useEffect)(function(){(!t||t&&t.id!==e.match.params.id)&&o(_(e.match.params.id))},[o,e.match.params.id,t]),t&&r.a.createElement(ye.a,{container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(Ve,{role:t,isDisabled:m,setIsDisabled:p}),r.a.createElement(ye.a,{item:!0,xs:11},r.a.createElement(pe.a,{tableRef:u,title:"Role Permissions",columns:Ze,options:{actionsColumnIndex:-1,search:!1},data:function(t){return new Promise(function(n,r){l(t.page,t.pageSize,e.match.params.id),n({data:a,page:t.page,totalCount:i})})},editable:{onRowDelete:function(e){return new Promise(function(t){o($(e.roles[0].RolesPermissions.id)),t()})}},actions:[{icon:"add",tooltip:"Add User",isFreeAction:!0,onClick:function(t){e.history.push({pathname:"/roles/".concat(e.match.params.id,"/permissions")})}}]})))},type:"details"},{name:"Assign Permissions",path:"/roles/:id/permissions",page:function(e){var t=Object(c.d)(function(e){return e.permissions}),a=Object(c.c)(),i=r.a.useState({}),o=Object(Ee.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),m=Object(Ee.a)(d,2),p=m[0],f=m[1],h=Fe(q,e.match.params.id),g=function(e){var a=t.data.reduce(function(t,a){return t[a.id]={checked:e,name:a.name},t},{});u(a)};return Object(n.useEffect)(function(){var e=t.data.reduce(function(e,t){return e[t.id]={checked:!1,name:t.name},e},{});u(e)},[t]),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Assign Permissions"),r.a.createElement(Qe.a,{control:r.a.createElement(We.a,{checked:p,onChange:function(){g(!p),f(!p)},name:"checkAll"}),label:"Check All"})),r.a.createElement(De.a,{pageStart:0,loadMore:h,hasMore:t.hasMore,loader:r.a.createElement("div",{className:"loader",key:"loader"},"Loading ...")},r.a.createElement(ye.a,{container:!0,style:{minHeight:"400px",overflowY:"scroll"}},Object.keys(l).map(function(e,t){return r.a.createElement(ye.a,{item:!0,xs:3,key:t},r.a.createElement(Qe.a,{control:r.a.createElement(We.a,{checked:l[e].checked,onChange:(a=e,function(e){u(Object(s.a)({},l,Object(Ge.a)({},a,Object(s.a)({},l[a],{checked:!l[a].checked}))))}),value:e}),label:l[e].name}));var a}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement(ae.a,{variant:"contained",color:"default",onClick:function(){g(!1),f(!1)}},"Cancel"),r.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:0===t.data.length,onClick:function(){var t=Object.keys(l).filter(function(e){return!0===l[e].checked});a(te(e.match.params.id,t))},startIcon:r.a.createElement(xe.a,null)},"Save")))},type:"details"}],Be=a(267),qe=a(294),He=a(277),_e=a(311),$e=a.n(_e),et=a(278),tt=function(e){return r.a.createElement(Be.a,{position:"fixed"},r.a.createElement(et.a,{style:{justifyContent:"space-between"}},r.a.createElement(qe.a,{value:e.value,onChange:e.handleChange},e.tabs.map(function(e){return r.a.createElement(He.a,{label:e.name,key:e.name})})),r.a.createElement(Je.a,{key:"Logout",title:"Logout","aria-label":"Logout"},r.a.createElement(Ie.a,{style:{color:"white"},onClick:function(){return e.logout()}},r.a.createElement($e.a,null)))))};var at=Object(Me.e)(Object(c.b)(function(e){return{}},function(e){return Object(u.b)({logout:K},e)})(function(e){var t=r.a.useState(0),a=Object(Ee.a)(t,2),i=a[0],o=a[1],c=Pe.filter(function(e){return"main"===e.type});return Object(n.useEffect)(function(){var t=Pe.findIndex(function(t){return t.path===e.history.location.pathname});t>=0&&o(t)},[e.history.location.pathname]),r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(tt,{logout:e.logout,tabs:c,value:i,handleChange:function(t,a){var n=Pe[a].path;e.history.push(n)}}),r.a.createElement("div",{style:{margin:"90px"}},e.children))})),nt=Pe.map(function(e){return r.a.createElement(Me.b,{key:e.name,exact:!0,path:e.path,component:e.page})}),rt=function(){return r.a.createElement(Me.d,null,nt,r.a.createElement(Me.a,{to:"/roles"}))};var it=function(e){return function(t){var a=Object(l.useSnackbar)().enqueueSnackbar;return Q.interceptors.response.use(function(e){var t,n="post"===(t=e.config).method?"Created Successfully":"delete"===t.method?"Deleted Successfully":null;return n&&a(n,{autoHideDuration:2e3,variant:"success"}),e},function(e){if(!e.response||401!==e.response.status)throw e&&a(e.message,{autoHideDuration:2e3,variant:"error"}),e;R.dispatch(K())}),r.a.createElement(Ye,null,r.a.createElement(e,t))}}(function(){var e=Object(c.d)(function(e){return e.auth.loggedIn});return Object(n.useEffect)(function(){var e=T();e.isValid&&R.dispatch(W(e.authData))},[]),r.a.createElement(r.a.Fragment,null,e?r.a.createElement(at,null,r.a.createElement(rt,null)):r.a.createElement(ze,null))}),ot=a(80),ct=a(314),lt=a.n(ct);a.d(t,"history",function(){return ut}),a.d(t,"bootstrap",function(){return mt}),a.d(t,"mount",function(){return pt}),a.d(t,"unmount",function(){return ft});var ut=Object(ot.a)(),st=r.a.createElement(c.a,{store:R},r.a.createElement(Me.c,{history:ut},r.a.createElement(l.SnackbarProvider,{maxSnack:4},r.a.createElement(it,null)))),dt=lt()({React:r.a,ReactDOM:o.a,rootComponent:st,domElementGetter:function(){var e=document.getElementById("second-react-app");e||((e=document.createElement("div")).id="second-react-app",document.body.appendChild(e));return e}}),mt=dt.bootstrap,pt=dt.mount,ft=dt.unmount;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[419,1,2]]])});
//# sourceMappingURL=main.8b29ccdf.chunk.js.map